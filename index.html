
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AEMP Pack-Demo</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="appbar">
    <div class="left">
      <button id="homeBtn" class="icon-btn" title="Home" aria-label="Home">üè†</button>
      <h1 id="appTitle">AEMP Pack-Demo</h1>
    </div>
    <div class="right">
      <input id="search" class="search" placeholder="Sets suchen‚Ä¶" />
      <button id="resetData" class="ghost">Testdaten zur√ºcksetzen</button>
      <div id="userBox" class="userbox hidden">
        <span id="userName">-</span>
        <button id="logoutBtn" class="icon-btn" title="Abmelden" aria-label="Abmelden">‚á¶</button>
      </div>
    </div>
  </header>

  <!-- Login Overlay -->
  <div id="loginOverlay" class="overlay show">
    <div class="sheet login">
      <h2>Anmeldung</h2>
      <form id="loginForm">
        <label>Benutzer
          <input id="loginUser" placeholder="ips-1 ‚Ä¶ ips-5" autocomplete="username" required />
        </label>
        <label>Passwort
          <input id="loginPass" type="password" placeholder="bilder" autocomplete="current-password" required />
        </label>
        <div class="row">
          <button type="submit" class="primary">Anmelden</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Hauptmen√º -->
  <main id="menu" class="view">
    <div class="card menu">
      <h2>Hauptmen√º</h2>
      <div class="vstack">
        <button id="btnPackplatz" class="primary lg">Packplatz</button>
        <button id="btnSteri" class="primary lg">Steri-Freigabe</button>
        <button id="btnOp" class="ghost lg" disabled>OP-Ausgabe (in Arbeit)</button>
      </div>
    </div>
  </main>


<!-- Steri View -->
<main id="steriView" class="view hidden">
  <div class="card" style="max-width:840px">
    <h2>Steri-Freigabe</h2>
    <p class="subtle">Scanne eine oder mehrere Etiketten-Nummern (Enter trennt), pr√ºfe die Liste und klicke auf <b>Freigeben</b>.</p>
    <div class="vstack">
      <input id="scanInput" class="search" placeholder="Etikett scannen ‚Ä¶ (Enter)">
      <div id="scanList" class="tablewrap">
        <table class="table">
          <thead><tr><th>Etikett</th><th>Set</th><th>Status</th><th></th></tr></thead>
          <tbody id="scanTbody"></tbody>
        </table>
      </div>
      <div class="row" style="display:flex; gap:10px; justify-content:flex-end">
        <button id="clearScans" class="ghost">Liste leeren</button>
        <button id="steriRelease" class="primary">Freigeben</button>
      </div>
    </div>
  </div>
</main>

  <!-- Packplatz -->
  <main class="view grid">
    <aside id="setList" class="sidebar"></aside>
    <section id="details" class="details"></section>
  </main>

  <!-- Drawer backdrop for mobile -->
  <div id="drawerBackdrop" class="backdrop"></div>

  <!-- Lightbox -->
  <div id="lightboxBackdrop" class="overlay hidden">
    <div class="sheet lightbox">
      <img id="lightboxImg" alt="" />
      <div id="lightboxCaption" class="muted"></div>
      <button id="lightboxClose" class="icon-btn abs">√ó</button>
    </div>
  </div>

  <!-- Upload modal -->
  <div id="uploadBackdrop" class="overlay hidden">
    <div class="sheet modal">
      <div class="modal-header">
        <h3 id="uploadTitle">Bild hochladen</h3>
        <button id="uploadClose" class="icon-btn">√ó</button>
      </div>
      <div class="modal-body">
        <input type="file" id="uploadFile" accept="image/*" />
      </div>
      <div class="modal-footer">
        <button id="uploadCancel">Abbrechen</button>
        <button id="uploadSave" class="primary" disabled>Speichern</button>
      </div>
    </div>
  </div>

  <!-- Packvorgang modal -->
  <div id="modalBackdrop" class="overlay hidden">
    <div class="sheet modal">
      <div class="modal-header">
        <h3 id="modalTitle">Packvorgang</h3>
        <button id="modalClose" class="icon-btn">√ó</button>
      </div>
      <div id="modalBody" class="modal-body"></div>
      <div class="modal-footer sticky-footer">
        <button id="cancelPack">Abbrechen</button>
        <button id="savePack" class="primary">Speichern & Abschlie√üen</button>
      </div>
    </div>
  </div>

  <!-- Report modal -->
  <div id="reportBackdrop" class="overlay hidden">
    <div class="sheet modal" id="reportModal">
      <div class="modal-header">
        <h3 id="reportTitle">Packreport</h3>
        <button id="reportClose" class="icon-btn">√ó</button>
      </div>
      <div id="reportBody" class="modal-body"></div>
      <div class="modal-footer">
        <button id="reportPrint" class="primary">Drucken</button>
      </div>
    </div>
  </div>

  <!-- GitHub upload endpoint (configure) -->
  <script>
    // Set this to your deployed serverless URL, e.g. "https://aemp-upload-proxy.vercel.app/api"
    window.UPLOAD_ENDPOINT = "";
  </script>
  <script src="js/github.js"></script>
  <script src="js/core.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/list.js"></script>
  <script src="js/details.js"></script>
  <script src="js/pack.js"></script>
  <script src="js/report.js"></script>
  <script src="js/steri.js"></script>
  <script src="js/init.js"></script>
</body>
</html>
